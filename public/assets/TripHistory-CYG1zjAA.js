import{r as m,I as p,o as h,n as v,U as g,c as d,a as t,f as _,V as y,F as k,q as w,p as b,b as c,t as a,x as D,d as M}from"./index-igiuMsdt.js";const T={class:"space-y-6"},L={class:"bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6"},B={class:"md:grid md:grid-cols-3 md:gap-6"},j={class:"mt-5 md:mt-0 md:col-span-2"},V={class:"flex space-x-4 mb-4"},S={class:"flex-1"},z={class:"bg-[#EDE8F5] shadow overflow-hidden sm:rounded-md"},E={role:"list",class:"divide-y divide-[#ADBBD4]"},C={class:"px-4 py-4 sm:px-6"},A={class:"flex items-center justify-between"},F={class:"flex items-center"},R={class:"ml-4"},U={class:"text-lg font-medium text-[#3D52A0]"},$={class:"text-sm text-[#7091E6]"},H={class:"ml-2 flex-shrink-0 flex"},I={class:"mt-2 sm:flex sm:justify-between"},N={class:"sm:flex"},q={class:"flex items-center text-sm text-gray-500"},O={class:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0"},P={__name:"TripHistory",setup(G){const r=m([]),i=m("7"),u=p(()=>{const o=new Date,e=parseInt(i.value);return i.value==="all"?r.value:r.value.filter(s=>{const n=new Date(s.startTime),l=Math.abs(o-n);return Math.ceil(l/(1e3*60*60*24))<=e})}),x=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=o=>{const e=Math.floor(o/60),s=o%60;return`${e}h ${s}m`};return h(()=>{const o=v(b,"trips");g(o,e=>{const s=e.val();s&&(r.value=Object.entries(s).map(([n,l])=>({id:n,...l})).sort((n,l)=>l.startTime-n.startTime))})}),(o,e)=>(c(),d("div",T,[t("div",L,[t("div",B,[e[6]||(e[6]=t("div",{class:"md:col-span-1"},[t("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Trip History"),t("p",{class:"mt-1 text-sm text-gray-500"}," View your past trips and their details. ")],-1)),t("div",j,[t("div",V,[t("div",S,[e[2]||(e[2]=t("label",{for:"date-range",class:"block text-sm font-medium text-gray-700"},"Date Range",-1)),_(t("select",{id:"date-range","onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"},e[1]||(e[1]=[t("option",{value:"7"},"Last 7 days",-1),t("option",{value:"30"},"Last 30 days",-1),t("option",{value:"90"},"Last 90 days",-1),t("option",{value:"all"},"All time",-1)]),512),[[y,i.value]])])]),t("div",z,[t("ul",E,[(c(!0),d(k,null,w(u.value,s=>(c(),d("li",{key:s.id},[t("div",C,[t("div",A,[t("div",F,[e[3]||(e[3]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-[#7091E6]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),t("div",R,[t("h4",U," Trip on "+a(x(s.startTime)),1),t("p",$," Duration: "+a(f(s.duration)),1)])]),t("div",H,[t("span",{class:D([s.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800","px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},a(s.status),3)])]),t("div",I,[t("div",N,[t("p",q,[e[4]||(e[4]=t("svg",{class:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),M(" "+a(s.startLocation)+" â†’ "+a(s.endLocation),1)])]),t("div",O,[e[5]||(e[5]=t("svg",{class:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1)),t("p",null," Max Speed: "+a(s.maxSpeed)+" km/h ",1)])])])]))),128))])])])])])]))}};export{P as default};
